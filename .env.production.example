# Production Environment Configuration (example)
# Copy to .env.production and fill in real values.
# Use with docker compose: `docker compose --env-file .env.production -f docker-compose.prod.yml up -d --build`
# (or rename to `.env` for docker compose default loading).

# --- General ---
NODE_ENV=production
FRONTEND_URL=https://app.example.com
BACKEND_BASE_URL=https://api.example.com
ADMIN_EMAILS=ops@example.com
# Used to sign session tokens (>=32 chars, keep secret)
SESSION_TOKEN_SECRET=change_me_to_a_long_random_value
# Local production-mode smoke tests only (do NOT enable for real production)
# ALLOW_LOCALHOST_PROD=true

# If behind a load balancer or reverse proxy
# TRUST_PROXY=1

# --- Database (docker-compose.prod.yml) ---
POSTGRES_USER=postgres
POSTGRES_PASSWORD=change_me
POSTGRES_DB=bazi_master
# If running outside docker compose, set DATABASE_URL explicitly:
# DATABASE_URL=postgresql://user:password@host:5432/bazi_master?schema=public

# --- Cache / Session ---
# REDIS_URL=redis://redis:6379

# --- AI Providers (optional) ---
# OPENAI_API_KEY=
# OPENAI_MODEL=gpt-4o-mini
# ANTHROPIC_API_KEY=
# ANTHROPIC_MODEL=claude-3-5-sonnet-20240620
# AI_PROVIDER=mock
# AI_MAX_TOKENS=700
# AI_TIMEOUT_MS=15000

# --- OAuth (optional; enable both id + secret) ---
# GOOGLE_CLIENT_ID=
# GOOGLE_CLIENT_SECRET=
# GOOGLE_REDIRECT_URI=https://api.example.com/api/auth/google/callback
# WECHAT_APP_ID=
# WECHAT_APP_SECRET=
# WECHAT_REDIRECT_URI=https://api.example.com/api/auth/wechat/callback
# WECHAT_FRONTEND_URL=https://app.example.com

# --- CORS (optional) ---
# CORS_ALLOWED_ORIGINS=https://admin.example.com

# --- Rate Limiting (optional) ---
# RATE_LIMIT_WINDOW_MS=60000
# RATE_LIMIT_MAX=120

# --- Session / Security (optional tuning) ---
# SESSION_IDLE_MS=1800000
# RESET_TOKEN_TTL_MS=1800000
# RESET_REQUEST_MIN_DURATION_MS=350
