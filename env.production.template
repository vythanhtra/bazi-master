# Production Environment Configuration
# Copy this file to .env.production and configure for your production environment

# Database - PostgreSQL REQUIRED for production
DATABASE_URL="postgresql://username:password@localhost:5432/bazi_master_prod"

# Redis - REQUIRED for production (session store, caching, rate limiting)
REDIS_URL="redis://localhost:6379"

# Session Security - REQUIRED 32+ character random string
SESSION_TOKEN_SECRET="your-32-character-or-longer-random-secret-here"

# CORS Configuration
FRONTEND_URL="https://yourdomain.com"
BACKEND_BASE_URL="https://api.yourdomain.com"

# Rate Limiting Configuration
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX=100

# Admin Configuration
ADMIN_EMAILS="admin@yourdomain.com,support@yourdomain.com"

# AI Provider Configuration (optional - defaults to mock if not provided)
OPENAI_API_KEY="your-openai-api-key"
ANTHROPIC_API_KEY="your-anthropic-api-key"

# Google OAuth Configuration
GOOGLE_CLIENT_ID="your-google-client-id"
GOOGLE_CLIENT_SECRET="your-google-client-secret"
GOOGLE_REDIRECT_URI="https://yourdomain.com/api/auth/google/callback"

# WeChat OAuth Configuration
WECHAT_APP_ID="your-wechat-app-id"
WECHAT_APP_SECRET="your-wechat-app-secret"
WECHAT_REDIRECT_URI="https://yourdomain.com/api/auth/wechat/callback"
WECHAT_SCOPE="snsapi_userinfo"
WECHAT_FRONTEND_URL="https://yourdomain.com"
ALLOW_DEV_OAUTH=false

# Password Reset Configuration
PASSWORD_RESET_DEBUG_LOG=false
RESET_TOKEN_TTL_MS=1800000
RESET_REQUEST_MIN_DURATION_MS=60000

# Trusted Proxy Configuration (if behind reverse proxy/load balancer)
TRUST_PROXY="127.0.0.1"

# Logging Level (production default: warn)
LOG_LEVEL="warn"

# Port Configuration
PORT=4000

# Health Check Configuration
HEALTH_CHECK_ENABLED=true

# Performance Tuning
MAX_CONNECTIONS=20
SESSION_STORE_TTL=86400000

# Security Headers
SECURITY_HEADERS_ENABLED=true
CSP_ENABLED=true


